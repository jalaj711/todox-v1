(this.webpackJsonptodox=this.webpackJsonptodox||[]).push([[15],{222:function(e,t,a){"use strict";a.r(t);var n=a(24),l=a(33),s=a(37),i=a(38),o=a(40),r=a(39),c=a(0),d=a.n(c),h=a(5),p=a(223),m=a(224),u=a(225),g=a(226),b=a(227),w=a(137),E=a(78),f=a(229),v=a(261),y=a(197),D=a(231),O=a(138),k=a(139),x=a(140),j=a(141),L=a(262),C=a(142),T=a(136),N=a(166),S=a(228),I=a(230),B=a(232),M=a(233),P=a(234),F=a(235),R=a(236),z=a(237),A=a(198),W=a(238),J=a(165),_=a(239),G=a(50),Y=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return d.a.createElement(G.c,{to:this.props.link,activeClassName:"".concat(this.props.classes.active," ").concat(this.props.classes.root),className:this.props.classes.root,onClick:this.props.handleDrawer},d.a.createElement(p.a,{button:!0},this.props.Icon?d.a.createElement(m.a,null,d.a.createElement(this.props.Icon,null)):"",d.a.createElement(u.a,{primary:this.props.text})))}}]),a}(d.a.Component),$=Object(h.a)((function(e){return{active:{"& .MuiListItem-root":{background:"".concat(e.palette.primary.light),borderTopRightRadius:20,borderBottomRightRadius:20}},root:{textDecoration:"none",color:e.palette.text.primary}}}))(Y),q=function(e){Object(o.a)(c,e);var t=Object(r.a)(c);function c(e){var a;return Object(s.a)(this,c),(a=t.call(this,e)).state={title:"todox",lists:[],dialogOpen:!1},window.setTitle=function(e){a.setState({title:e})},a.handleDrawerToggle=a.handleDrawerToggle.bind(Object(l.a)(a)),a.handleDialogOpen=a.handleDialogOpen.bind(Object(l.a)(a)),a.handleDialogClose=a.handleDialogClose.bind(Object(l.a)(a)),a.getLists=a.getLists.bind(Object(l.a)(a)),a.addList=a.addList.bind(Object(l.a)(a)),a.createList=a.createList.bind(Object(l.a)(a)),a}return Object(i.a)(c,[{key:"componentDidMount",value:function(){var e=this;window.database?this.getLists():a.e(0).then(a.bind(null,153)).then((function(t){console.log("[indexedDB] Creating database instance");var a=new t.default;a.onsuccess=function(t){window.database=a,e.getLists()}}))}},{key:"getLists",value:function(){var e=this;window.database.getMultipleByFilters("lists","id",{filter:"__re",val:/^(?!.*bills|today|work|shopping).*$/},(function(t){e.setState(Object(n.a)(Object(n.a)({},e.state),{},{listsLoaded:!0,lists:t||[]}))}))}},{key:"handleDialogOpen",value:function(){this.setState(Object(n.a)(Object(n.a)({},this.state),{},{dialogOpen:!0}))}},{key:"addList",value:function(e){var t=this;a.e(1).then(a.bind(null,173)).then((function(a){var l=new a.default.TodoList(e,(function(){window.database.add("lists",l).onsuccess=function(e){console.log("done"),t.handleDialogClose(),t.getLists()}}),{onerror:function(e){console.log("error",e),t.setState(Object(n.a)(Object(n.a)({},t.state),{},{addError:"This name is already being used. Please try sometthing else!"}))}})}))}},{key:"createList",value:function(){var e=this,t=document.getElementById("add-list-to-db").value;t?window.database?this.addList(t):a.e(0).then(a.bind(null,153)).then((function(a){console.log("[indexedDB] Creating database instance");var n=new a.default;n.onsuccess=function(a){window.database=n,e.addList(t)}})):this.setState(Object(n.a)(Object(n.a)({},this.state),{},{addError:"Please enter a name"}))}},{key:"handleDialogClose",value:function(){this.setState(Object(n.a)({},this.setState(Object(n.a)(Object(n.a)({},this.state),{},{dialogOpen:!1,addError:void 0}))))}},{key:"handleDrawerToggle",value:function(){this.setState(Object(n.a)(Object(n.a)({},this.state),{},{mobileOpen:!this.state.mobileOpen}))}},{key:"render",value:function(){var e=this;return d.a.createElement("div",null,d.a.createElement(g.a,{position:"fixed",className:this.props.classes.appBar},d.a.createElement(b.a,null,d.a.createElement(w.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:this.handleDrawerToggle},d.a.createElement(S.a,null)),d.a.createElement(E.a,{variant:"h6",noWrap:!0},this.state.title),d.a.createElement("div",{className:this.props.classes.grow}),d.a.createElement(w.a,{edge:"end",color:"inherit","aria-label":"Show Notifications"},d.a.createElement(f.a,{badgeContent:6,color:"primary",max:9},d.a.createElement(I.a,null))))),d.a.createElement("nav",null,d.a.createElement(v.a,{variant:"temporary",anchor:"left",open:this.state.mobileOpen,onClose:this.handleDrawerToggle,classes:{paper:this.props.classes.drawerPaper},ModalProps:{keepMounted:!0}},d.a.createElement("div",null,d.a.createElement("div",{className:this.props.classes.toolbar}),d.a.createElement(y.a,null),d.a.createElement(D.a,null,d.a.createElement($,{className:this.props.classes.a,handleDrawer:this.handleDrawerToggle,link:"/todox/lists/today",text:"My Day",Icon:B.a}),d.a.createElement($,{className:this.props.classes.a,handleDrawer:this.handleDrawerToggle,link:"/todox/starred",text:"Starred Tasks",Icon:M.a}),d.a.createElement($,{className:this.props.classes.a,handleDrawer:this.handleDrawerToggle,link:"/todox/lists/bills",text:"Bills",Icon:P.a}),d.a.createElement($,{className:this.props.classes.a,handleDrawer:this.handleDrawerToggle,link:"/todox/lists/shopping",text:"Shopping List",Icon:F.a}),d.a.createElement($,{className:this.props.classes.a,handleDrawer:this.handleDrawerToggle,link:"/todox/lists/work",text:"Work",Icon:R.a})),d.a.createElement(y.a,null),d.a.createElement(D.a,null,d.a.createElement($,{className:this.props.classes.a,handleDrawer:this.handleDrawerToggle,link:"/todox/viewby/pending",text:"Pending",Icon:z.a}),d.a.createElement($,{className:this.props.classes.a,handleDrawer:this.handleDrawerToggle,link:"/todox/viewby/completed",text:"Done",Icon:A.a}),d.a.createElement($,{className:this.props.classes.a,handleDrawer:this.handleDrawerToggle,link:"/todox/viewby/missing",text:"Missing",Icon:W.a})),d.a.createElement(y.a,null),d.a.createElement(D.a,null,d.a.createElement("div",{className:this.props.classes.button},d.a.createElement(E.a,{variant:"button"},"Your Lists"),d.a.createElement("div",{className:this.props.classes.grow}),d.a.createElement(w.a,{onClick:this.handleDialogOpen},d.a.createElement(J.a,null))),this.state.listsLoaded?0!==this.state.lists.length?this.state.lists.map((function(t){return d.a.createElement($,{className:e.props.classes.a,handleDrawer:e.handleDrawerToggle,text:t.name,link:"/todox/lists/".concat(t.id),key:t.id})})):d.a.createElement(E.a,{variant:"body1",component:"i",className:this.props.classes.notFound},"No lists found. Click on the + icon on top right to create one"):d.a.createElement("div",{style:{padding:8}},d.a.createElement(N.a,{width:200}),d.a.createElement(N.a,{width:160}))),d.a.createElement(y.a,null),d.a.createElement(D.a,null,d.a.createElement(p.a,{button:!0},d.a.createElement(m.a,null,d.a.createElement(_.a,null)),d.a.createElement(u.a,{primary:"About us"})))))),d.a.createElement(O.a,{open:this.state.dialogOpen,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title"},d.a.createElement(k.a,{id:"form-dialog-title"},"Add new List"),d.a.createElement(x.a,null,d.a.createElement(j.a,null,"To create a new task-list enter your list title here"),d.a.createElement(L.a,{autoFocus:!0,margin:"dense",id:"add-list-to-db",label:"List tittle",type:"text",autoComplete:"off",fullWidth:!0,error:Boolean(this.state.addError),helperText:this.state.addError})),d.a.createElement(C.a,null,d.a.createElement(T.a,{onClick:this.handleDialogClose,color:"primary"},"Cancel"),d.a.createElement(T.a,{onClick:this.createList,color:"primary"},"Add"))))}}]),c}(d.a.Component);t.default=Object(h.a)((function(e){return{appBar:{background:"linear-gradient(45deg, ".concat(e.palette.primary.main,", ").concat(e.palette.secondary.main,")")},toolbar:e.mixins.toolbar,drawerPaper:{width:240},grow:{flexGrow:1},button:{display:"flex",padding:0,fontSize:e.typography.subtitle2.fontSize,width:"-webkit-fill-available","& .MuiTypography-root, .MuiIconButton-root":{padding:e.spacing(1)}},notFound:{fontSize:"smaller",padding:" 0 ".concat(e.spacing(1),"px"),display:"flex"}}}))(q)}}]);
//# sourceMappingURL=15.85784751.chunk.js.map