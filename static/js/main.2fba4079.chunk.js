(this.webpackJsonptodox=this.webpackJsonptodox||[]).push([[7],{104:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(9),c=n.n(i),l=n(144),r=n(145),s=n(73),u=Object(s.a)({typography:{fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif"},palette:{type:"dark",primary:{main:"#a5ce0f"},secondary:{main:"#028bbf"},contrastThreshold:3,tonalOffset:.2}}),d=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function b(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var m=n(50),h=n(37),f=n(38),p=n(40),v=n(39),k=n(5),w=n(106),g=n(143),y=n(8),E=n(136),C=n(147),x=n(137),O=n(72),j=n.n(O),B=n(23),S=n(43);function z(){var e=Object(B.c)(),t=Object(B.d)((function(e){return e.snackbar.open})),n=Object(B.d)((function(e){return e.snackbar.text})),a=Object(B.d)((function(e){return e.snackbar.showActionButton})),i=Object(B.d)((function(e){return e.snackbar.actionButtonText})),c=Object(B.d)((function(e){return e.snackbar.actionButtonClickCallback})),l=function(t,n){"clickaway"!==n&&e(Object(S.a)())};return o.a.createElement("div",null,o.a.createElement(C.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t,autoHideDuration:4e3,onClose:l,message:n,action:o.a.createElement(o.a.Fragment,null,a?o.a.createElement(E.a,{color:"secondary",size:"small",onClick:function(e){l();try{c(e)}catch(t){}}},i):"",o.a.createElement(x.a,{size:"small","aria-label":"close",color:"inherit",onClick:l},o.a.createElement(j.a,{fontSize:"small"})))}))}var A=n(24),T=n(33),W=n(138),L=n(142),N=n(140),D=n(141),M=n(139),P=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={title:"Confirmation",content:"Are you sure?",cancelButtonText:"No",confirmButtonText:"Yes",open:!1},window.confirm=function(e,t,n){a.setState(Object(A.a)(Object(A.a)(Object(A.a)({},a.state),e),{},{open:!0})),a.closeCallback=n,a.confirmCallback=t},a.handleClose=a.handleClose.bind(Object(T.a)(a)),a.handleConfirm=a.handleConfirm.bind(Object(T.a)(a)),a}return Object(f.a)(n,[{key:"handleClose",value:function(){this.closeCallback&&this.closeCallback(),this.setState(Object(A.a)(Object(A.a)({},this.state),{},{open:!1}))}},{key:"handleConfirm",value:function(){this.confirmCallback&&this.confirmCallback(),this.setState(Object(A.a)(Object(A.a)({},this.state),{},{open:!1}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(W.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(M.a,{id:"alert-dialog-title"},this.state.title),o.a.createElement(N.a,null,o.a.createElement(D.a,{id:"alert-dialog-description"},this.state.text)),o.a.createElement(L.a,null,o.a.createElement(E.a,{onClick:this.handleClose,color:"primary"},this.state.cancelButtonText),o.a.createElement(E.a,{onClick:this.handleConfirm,color:"primary",autoFocus:!0},this.state.confirmButtonText))))}}]),n}(o.a.Component),U=o.a.lazy((function(){return Promise.all([n.e(2),n.e(6),n.e(15)]).then(n.bind(null,222))})),F=o.a.lazy((function(){return Promise.all([n.e(2),n.e(6),n.e(14)]).then(n.bind(null,258))})),I=o.a.lazy((function(){return n.e(17).then(n.bind(null,242))})),R=o.a.lazy((function(){return n.e(10).then(n.bind(null,243))})),H=o.a.lazy((function(){return Promise.all([n.e(2),n.e(5),n.e(13)]).then(n.bind(null,244))})),J=o.a.lazy((function(){return n.e(11).then(n.bind(null,247))})),G=o.a.lazy((function(){return Promise.all([n.e(2),n.e(5),n.e(16)]).then(n.bind(null,257))})),Y=o.a.lazy((function(){return n.e(12).then(n.bind(null,248))})),$=function(){return o.a.createElement(w.a,{open:!0},o.a.createElement(g.a,null))},q=function(e){Object(p.a)(i,e);var t=Object(v.a)(i);function i(e){var n;return Object(h.a)(this,i),(n=t.call(this,e)).state={isMobile:window.innerWidth<u.breakpoints.values.sm,isLoadingDb:!0},n}return Object(f.a)(i,[{key:"componentDidMount",value:function(){var e=this,t=0;window.addEventListener("resize",(function(){var n=u.breakpoints.values.sm;(n-t)/(n-window.innerWidth)<0&&e.setState({isMobile:window.innerWidth<n}),t=window.innerWidth})),window.database||n.e(0).then(n.bind(null,153)).then((function(t){console.log("[indexedDB] Creating database instance");var n=new t.default;n.onsuccess=function(t){window.database=n,e.setState({isLoadingDb:!1})}}))}},{key:"render",value:function(){return this.state.isLoadingDb?o.a.createElement($,null):o.a.createElement("div",{className:this.props.classes.root},o.a.createElement(z,null),o.a.createElement(P,null),o.a.createElement(a.Suspense,{fallback:o.a.createElement($,null)},this.state.isMobile?o.a.createElement(U,null):o.a.createElement(F,null),o.a.createElement("main",{className:this.props.classes.content},o.a.createElement("div",{className:this.props.classes.toolbar}),o.a.createElement(y.d,null,o.a.createElement(y.b,{path:"/todox-v1",exact:!0,component:I}),o.a.createElement(y.b,{path:"/todox-v1/lists/:id",component:R}),o.a.createElement(y.b,{path:"/todox-v1/new/:id",component:H}),o.a.createElement(y.b,{path:"/todox-v1/starred",component:J}),o.a.createElement(y.b,{path:"/todox-v1/edit/:id",component:G}),o.a.createElement(y.b,{path:"/todox-v1/viewby/:id",component:Y}),o.a.createElement(y.a,{to:"/todox"})))))}}]),i}(o.a.Component),K=Object(k.a)((function(e){return{root:{display:"flex"},toolbar:e.mixins.toolbar,content:{flexGrow:1,padding:e.spacing(3)}}}))(q),Q=n(47),V=Object(Q.a)({reducer:{snackbar:S.b}});window.addEventListener("load",(function(){if(navigator.onLine&&"/"!==window.location.pathname){var e=new Image;e.src="https://bing.biturl.top/?resolution=1920&format=image&index=0&mkt=zh-CN",e.onload=function(){document.body.style.backgroundImage="url("+e.src+")"}}})),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(m.a,null,o.a.createElement(l.a,{theme:u},o.a.createElement(B.a,{store:V},o.a.createElement(r.a,null),o.a.createElement(K,null))))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/todox-v1",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/todox-v1","/service-worker.js");d?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):b(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):b(t,e)}))}}()},43:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return r}));var a=n(47),o={open:!1,text:"Snackbar text",showActionButton:!1,actionButtonText:"undo",actionButtonClickCallback:null},i=Object(a.b)({name:"snackbar",initialState:o,reducers:{openSnackbar:function(e,t){e.open=!0,e.text=t.payload.text||o.text,e.showActionButton=t.payload.showActionButton||o.showActionButton,e.actionButtonText=t.payload.actionButtonText||o.actionButtonText,e.actionButtonClickCallback=t.payload.actionButtonClickCallback||o.actionButtonClickCallback},closeSnackbar:function(e){e.open=!1}}}),c=i.actions,l=c.openSnackbar,r=c.closeSnackbar;t.b=i.reducer},89:function(e,t,n){e.exports=n(104)}},[[89,8,9]]]);
//# sourceMappingURL=main.2fba4079.chunk.js.map