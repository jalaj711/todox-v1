(this.webpackJsonptodox=this.webpackJsonptodox||[]).push([[14],{260:function(e,t,a){"use strict";a.r(t);var n=a(24),l=a(33),i=a(37),s=a(38),o=a(40),r=a(39),c=a(0),d=a.n(c),p=a(5),u=a(223),m=a(224),h=a(225),b=a(226),f=a(227),E=a(137),g=a(78),v=a(229),w=a(261),O=a(197),y=a(231),k=a(138),x=a(139),j=a(140),L=a(141),C=a(262),S=a(142),D=a(136),I=a(166),B=a(228),N=a(230),M=a(151),T=Object(M.a)(d.a.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"}),"ChevronLeftOutlined"),P=a(232),z=a(233),F=a(234),R=a(235),A=a(236),W=a(237),J=a(198),_=a(238),G=a(165),Y=a(239),$=a(50),q=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return d.a.createElement($.c,{to:this.props.link,activeClassName:this.props.classes.active},d.a.createElement(u.a,{button:!0},this.props.Icon?d.a.createElement(m.a,null,d.a.createElement(this.props.Icon,null)):"",d.a.createElement(h.a,{primary:this.props.text})))}}]),a}(d.a.Component),H=Object(p.a)((function(e){return{active:{"& .MuiListItem-root":{background:"".concat(e.palette.primary.light),borderTopRightRadius:20,borderBottomRightRadius:20}}}}))(q),K=function(e){Object(o.a)(c,e);var t=Object(r.a)(c);function c(e){var a;return Object(i.a)(this,c),(a=t.call(this,e)).state={title:"todox",lists:[],dialogOpen:!1,off:!0},window.setTitle=function(e){a.setState({title:e})},a.handleDialogOpen=a.handleDialogOpen.bind(Object(l.a)(a)),a.handleDialogClose=a.handleDialogClose.bind(Object(l.a)(a)),a.getLists=a.getLists.bind(Object(l.a)(a)),a.addList=a.addList.bind(Object(l.a)(a)),a.createList=a.createList.bind(Object(l.a)(a)),a}return Object(s.a)(c,[{key:"componentDidMount",value:function(){var e=this;window.database?this.getLists():a.e(0).then(a.bind(null,153)).then((function(t){console.log("[indexedDB] Creating database instance");var a=new t.default;a.onsuccess=function(t){window.database=a,e.getLists()}}))}},{key:"getLists",value:function(){var e=this;window.database.getMultipleByFilters("lists","id",{filter:"__re",val:/^(?!.*bills|today|work|shopping).*$/},(function(t){e.setState(Object(n.a)(Object(n.a)({},e.state),{},{listsLoaded:!0,lists:t||[]}))}))}},{key:"handleDialogOpen",value:function(){this.setState(Object(n.a)(Object(n.a)({},this.state),{},{dialogOpen:!0}))}},{key:"addList",value:function(e){var t=this;a.e(1).then(a.bind(null,173)).then((function(a){var l=new a.default.TodoList(e,(function(){window.database.add("lists",l).onsuccess=function(e){console.log("done"),t.handleDialogClose(),t.getLists()}}),{onerror:function(e){console.log("error",e),t.setState(Object(n.a)(Object(n.a)({},t.state),{},{addError:"This name is already being used. Please try sometthing else!"}))}})}))}},{key:"createList",value:function(){var e=this,t=document.getElementById("add-list-to-db").value;t?window.database?this.addList(t):a.e(0).then(a.bind(null,153)).then((function(a){console.log("[indexedDB] Creating database instance");var n=new a.default;n.onsuccess=function(a){window.database=n,e.addList(t)}})):this.setState(Object(n.a)(Object(n.a)({},this.state),{},{addError:"Please enter a name"}))}},{key:"handleDialogClose",value:function(){this.setState(Object(n.a)({},this.setState(Object(n.a)(Object(n.a)({},this.state),{},{dialogOpen:!1,addError:void 0}))))}},{key:"render",value:function(){var e=this;return d.a.createElement("div",null,d.a.createElement(b.a,{position:"fixed",className:"".concat(this.props.classes.appBar," ").concat(this.state.off?"":this.props.classes.appBarOn)},d.a.createElement(f.a,null,this.state.off?d.a.createElement(E.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){return e.setState(Object(n.a)(Object(n.a)({},e.state),{},{off:!1}))}},d.a.createElement(B.a,null)):"",d.a.createElement(g.a,{variant:"h6",noWrap:!0},this.state.title),d.a.createElement("div",{className:this.props.classes.grow}),d.a.createElement(E.a,{edge:"end",color:"inherit","aria-label":"Show Notifications"},d.a.createElement(v.a,{badgeContent:6,color:"primary",max:9},d.a.createElement(N.a,null))))),d.a.createElement("nav",{className:"".concat(this.props.classes.drawer," ").concat(this.state.off?"":this.props.classes.drawerOn)},d.a.createElement(w.a,{classes:{paper:"".concat(this.state.off?this.props.classes.drawerPaperOff:""," ").concat(this.props.classes.drawerPaper)},variant:"permanent",open:!0},d.a.createElement("div",null,d.a.createElement("div",{className:this.props.classes.toolbar},d.a.createElement(E.a,{color:"inherit","aria-label":"close drawer",onClick:function(){return e.setState(Object(n.a)(Object(n.a)({},e.state),{},{off:!0}))}},d.a.createElement(T,null))),d.a.createElement(O.a,null),d.a.createElement(y.a,null,d.a.createElement(H,{link:"/todox-v1/lists/today",text:"My Day",Icon:P.a}),d.a.createElement(H,{link:"/todox-v1/starred",text:"Starred Tasks",Icon:z.a}),d.a.createElement(H,{link:"/todox-v1/lists/bills",text:"Bills",Icon:F.a}),d.a.createElement(H,{link:"/todox-v1/lists/shopping",text:"Shopping List",Icon:R.a}),d.a.createElement(H,{link:"/todox-v1/lists/work",text:"Work",Icon:A.a})),d.a.createElement(O.a,null),d.a.createElement(y.a,null,d.a.createElement(H,{link:"/todox-v1/viewby/pending",text:"Pending",Icon:W.a}),d.a.createElement(H,{link:"/todox-v1/viewby/completed",text:"Done",Icon:J.a}),d.a.createElement(H,{link:"/todox-v1/viewby/missing",text:"Missing",Icon:_.a})),d.a.createElement(O.a,null),d.a.createElement(y.a,null,d.a.createElement("div",{className:this.props.classes.button},d.a.createElement(g.a,{variant:"button"},"Your Lists"),d.a.createElement("div",{className:this.props.classes.grow}),d.a.createElement(E.a,{onClick:this.handleDialogOpen},d.a.createElement(G.a,null))),this.state.listsLoaded?0!==this.state.lists.length?this.state.lists.map((function(e){return d.a.createElement(H,{text:e.name,link:"/todox-v1/lists/".concat(e.id),key:e.id})})):d.a.createElement(g.a,{variant:"body1",component:"i",className:this.props.classes.notFound},"No lists found. Click on the + icon on top right to create one"):d.a.createElement("div",{style:{padding:8}},d.a.createElement(I.a,{width:200}),d.a.createElement(I.a,{width:160}))),d.a.createElement(O.a,null),d.a.createElement(y.a,null,d.a.createElement(u.a,{button:!0},d.a.createElement(m.a,null,d.a.createElement(Y.a,null)),d.a.createElement(h.a,{primary:"About us"})))))),d.a.createElement(k.a,{open:this.state.dialogOpen,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title"},d.a.createElement(x.a,{id:"form-dialog-title"},"Add new List"),d.a.createElement(j.a,null,d.a.createElement(L.a,null,"To create a new task-list enter your list title here"),d.a.createElement(C.a,{autoFocus:!0,margin:"dense",id:"add-list-to-db",label:"List tittle",type:"text",fullWidth:!0,autoComplete:"off",error:Boolean(this.state.addError),helperText:this.state.addError})),d.a.createElement(S.a,null,d.a.createElement(D.a,{onClick:this.handleDialogClose,color:"primary"},"Cancel"),d.a.createElement(D.a,{onClick:this.createList,color:"primary"},"Add"))))}}]),c}(d.a.Component);t.default=Object(p.a)((function(e){return{drawer:{"& a":{color:e.palette.text.primary}},drawerOn:{width:240,flexShrink:0},appBar:{background:"linear-gradient(45deg, ".concat(e.palette.primary.main,", ").concat(e.palette.secondary.main,")"),transition:e.transitions.create("width")},appBarOn:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240},toolbar:e.mixins.toolbar,drawerPaper:{width:240,left:0,transition:e.transitions.create("left")},drawerPaperOff:{left:-240},grow:{flexGrow:1},button:{display:"flex",padding:0,fontSize:e.typography.subtitle2.fontSize,width:"-webkit-fill-available","& .MuiTypography-root, .MuiIconButton-root":{padding:e.spacing(1)}},notFound:{fontSize:"smaller",padding:" 0 ".concat(e.spacing(1),"px"),display:"flex"}}}))(K)}}]);
//# sourceMappingURL=14.152e8edf.chunk.js.map